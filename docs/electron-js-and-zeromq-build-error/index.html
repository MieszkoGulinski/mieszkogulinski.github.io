<!doctype html><html lang="en"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><title>Electron JS and ZeroMQ build error</title><meta content="Solution to error happening when building Electron framework with zeromq" name="description"><meta content="Electron JS and ZeroMQ build error" property="og:title"><meta content="Solution to error happening when building Electron framework with zeromq" property="og:description"><meta content="article" property="og:type"><style>body,html{margin:0 0}body{color:#222;font-size:18px;line-height:1.5}.header-content,article,footer{margin:0 auto;padding:0 15px;max-width:710px}h1{border-bottom:2px solid #ffd744;padding-bottom:15px;font-size:32px}.blog-name{text-align:center;padding-bottom:25px}h2{font-size:24px}h3{font-size:20px}a{text-decoration:none;color:#927200;transition:color .25s ease-out}a:hover{color:#bb9200}code{font-size:14px}pre{overflow:auto}img{max-width:100%}.footer-content{margin-top:15px;border-top:2px solid #ffd744;padding-top:15px;padding-bottom:15px}.art-list-link{font-size:22px;margin-bottom:5px}.art-list-link a{color:#222;transition:color .2s ease-out}.art-list-link a:hover{color:#555}.art-list-date{font-size:16px}@media (prefers-color-scheme:dark){body{background:#222;color:#fff}a{color:#ffd744}a:hover{color:#bb9200}.art-list-link a{color:#fff}.art-list-link a:hover{color:#eee}}@media (min-width:768px){body{font-size:20px}code{font-size:16px}}</style><link href="/img/favicon.svg" rel="icon" type="image/svg+xml"><link href="/img/favicon.ico" rel="alternate icon"></head><body><article><h1>Electron JS and ZeroMQ build error</h1><p>This error happened to me on Electron 8, zeromq 5.2.0, Mac OS Catalina. Other library versions or OSes may need adjustments.</p><p>If starting the application fails due to mismatching compiled version of <code>zeromq</code> library:</p><pre><code>The module '/.../node_modules/zeromq/build/Release/zmq.node'
was compiled against a different Node.js version using
NODE_MODULE_VERSION 57. This version of Node.js requires
NODE_MODULE_VERSION 76. Please try re-compiling or re-installing
the module (for instance, using `npm rebuild` or `npm install`).
</code></pre><p>to rebuild the library, run <em>both</em> commands:</p><pre><code>npm rebuild --runtime=electron --target=8.0.0
npx electron-rebuild zeromq
</code></pre><p>With running only the first command, and not the second, you'll get the error that NODE_MODULE_VERSION is not matching. With running only the second command without the first one before, you'll get an error <code>zmq.h file not found</code> during compilation.</p><a href="/">Go back to home page</a></article><footer><div class="footer-content"><a href="https://www.radcode.co/">Do you need an app?</a></div></footer><link href="/styles/prism-atom-dark.css" rel="stylesheet"></body></html>